<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>icibici: here's a low cost, open source brain-computer interface</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/heroic-features.css" rel="stylesheet">
    <link href="css/smartphonebci.css" rel="stylesheet">
    <!-- fonts -->

    <link href="https://fonts.googleapis.com/css?family=Orbitron" rel="stylesheet">


</head>

<body>

    <div class="container">

        <!-- Jumbotron Header -->
				<div>
					<header class="jumbotron">
						<div class="container">
							<div class="row">
								<div class="col-xs-4">
									<img id="smartphonebci-logo" src="images/smartphonebci.png"/>
								</div>
								<div class="col-xs-8">
									<h1 class="text-right">icibici</h1>
									<p class="text-right">a brain-computer interface for under &pound;20 that you can use with your phone, tablet, laptop...</p>
									<br>
								</div>
							</div>
						</div>
					</header>
				</div>
        <hr>

        <!-- Title -->
        <!-- <div class="row"> -->
            <!-- <div class="col-lg-12"> -->
                <!-- <h3>Latest Features</h3> -->
            <!-- </div> -->
        <!-- </div> -->
        <!-- /.row -->

        <!-- Page Features -->
        <div class="row text-center">

            <div class="col-md-3 col-sm-6 hero-feature">
                <div class="thumbnail">
                    <img src="images/hardware.jpg" alt="">
                    <div class="caption">
			    <h3><a href="#the_project">the project</a></h3>
                    </div>
                </div>
            </div>

            <div class="col-md-3 col-sm-6 hero-feature">
                <div class="thumbnail">
                    <img src="images/pcb_01.jpg" alt="">
                    <div class="caption">
			    <h3><a href="#the_hardware">the hardware</a></h3>
                    </div>
                </div>
            </div>

	    <div class="col-md-3 col-sm-6 hero-feature">
                <div class="thumbnail">
                    <img src="images/felix.jpg" alt="">
                    <div class="caption">
			    <h3><a href="#the_software">the software</a></h3>
                    </div>
                </div>
            </div>

            <div class="col-md-3 col-sm-6 hero-feature">
                <div class="thumbnail">
                    <img src="images/people.jpg" alt="">
                    <div class="caption">
			    <h3><a href="#the_team">the team</a></h3>
                    </div>
                </div>
            </div>

        </div>
        <!-- /.row -->

        <hr>
        <!-- <div class="row text-center"> -->
        <header class=" hero-spacer">
            <h2>Project Overview</h2><a name="the_project"></a>
            <p> Powered by <a href="http://neurotechx.com/"/><span style="color:#000; font-family:Orbitron">NeuroTech</span>
                    <span style="color:#23b3c6; font-family:Orbitron">X</span></a>
        </header>
            <br>
	
	<h3><strong>If your board has a blue screw terminal, the positive and negative battery terminals are reversed.  Read the hardware instructions, below, carefully before use.</strong></h3>

	<h3><strong>The icibici kit is intended for use for ENGINEERING DEVELOPMENT, DEMONSTRATION, OR EVALUATION PURPOSES ONLY and is not considered by its developers to be a finished end-product fit for general consumer use. Persons handling the product(s) must observe good engineering practice standards; in particular, it must not be used while plugged into a device (e.g. laptop, tablet, phone) that is plugged into the mains to charge.</strong></h3>
	
	<p class="text-justify">
          <span style="color:red">
          TL;DR: join the <a href="https://groups.google.com/forum/#!forum/icibici"/>icibici</a> Google Group to plug yourself in.
	</span>
	</p>

            <h3>Motivation</h3>
            <p class="text-justify">
            In summer 2016, we met to build a low-cost brain-computer interface that you could plug into your phone.  We want everyone interested in BCI technology to be able to try it out.</p> 
		    
            <p class="text-justify">
	    Two months later, we premiered the world's first &pound;20 BCI at <a href="https://www.emfcamp.org/">EMF camp</a> as 
		    'smartphone-BCI'.  Since then, we have given workshops at <a href="https://www.meetup.com/TokyoHackerSpace/events/237542298">Tokyo
		    Hackerspace</a>, <a href="https://london.hackspace.org.uk/events/?month=201705">London Hackspace</a>, <a href="https://twitter.com/i/web/status/894131489734111232">SHA 
		    2017</a>, <a href="https://bornhack.dk/bornhack-2018/program/icibici-a-20-brain-computer-interface-for-your-phone-tablet-laptop/">Bornhack 
		    2018</a>, EMF 2018, and <a href="https://events.ccc.de/camp/2019/wiki/Session:Icibici">CCC 2019</a>.
            </p>

            <p class="text-justify">
            As of autumn 2019, we have:<br> 
            <ol>
                    <li> a simple, one channel EEG kit that amplifies neural signals, and modulates them for input to an audio jack; </li>
		    <li> a basic Android diagnostic app; </li>
	            <li> an <a href="https://www.intechopen.com/books/evolving-bci-therapy-engaging-brain-state-dynamics/ssvep-based-bcis">SSVEP</a> Unity text entry app;</li>
		    <li> <a href="https://github.com/erap129/modulation_EEG">code</a> from Elad Rapaport's team at the <a href="https://www.youtube.com/watch?v=Iaovp4pRBuQ">Brain Gurion hackthon</a>.</li>
            </ol>
	    We'd love to add your work to the list.
            </p>

            <h3>What we have</h3>

            <p class="text-justify">
                The v0.1 circuit reads a bipolar EEG signal and sends the signal out along an audio cable, for use in a smartphone, 
		    tablet, laptop, etc.
            </p>
                
            <p class="text-justify">
                EEG signals are difficult to work with as they are very faint, and easily interfered with by other signals, including muscle movements and mains electricity - both of which are much more powerful.  Also, the interesting frequencies range between 4Hz to 32Hz (depending on the intended use), but a smartphone sound card will filter out all signals below 20Hz.
            </p>

            <p class="text-justify">
                Thus, the v0.1 circuit:
                <ol>
                        <li> amplifies the signals that comes from the electrodes, boosting them from the microvolt to the millivolt range;</li>
                        <li> uses <a href="https://en.wikipedia.org/wiki/Amplitude_modulation"> amplitude modulation </a> to add a 1kHz carrier tone, allowing the signal to bypass the 20Hz high-pass filter behind the phone's audio jack.</li>
                </ol>
            </p>

            <p class="text-justify">
	      For more details of the circuit, visit the <a href="https://github.com/jmanart/smartphone-bci-hardware/">hardware repo</a>. The circuit design files are open source: please use them, and improve upon them.
            </p>

            <p class="text-justify">
              The signal can be used by any software that accepts and uses signals from an audio port.  We describe, below, two apps that are in development alongside the hardware.  In both cases, frequency analysis is performed on the input signal, to extract the features of the original EEG signal. There is an example of an Android app that does this whole process in 
		    <a href="https://github.com/jmanart/smartphone-bci-hardware/"> repo </a>.
            </p>

            <p class="text-justify">
                The <a href="https://github.com/icibici/Android-diagnostic-app">diagnostic Android app</a> is under development and right now just offers:
            <br>
              <ul>
                <!-- <li>has the SmartPhoneBCI driver functionality</li> -->
                <li>shows the frequency analysis of the EEG signal</li>
                <li>shows how the alpha band power fluctuates over time</li>
                <li>shows a broader frequency analysis that can used as a sanity check for the hardware</li>
              </ul>

            <p class="text-justify">
                The code needs to undergo some refactoring and implement some more cool functionality.
            </p>

            <p class="text-justify">
                Ryan Lintott has developed a Unity-based SSVEP <a href="https://github.com/ryanlintott/SSVEP_keyboard">text-entry app</a>.
            </p>

        <hr>
        <header class=" hero-spacer"> 
            <h2>The Hardware</h2><a name="the_hardware"></a>
        </header> 
<div class="row">
  <div class="col-md-6">
  				<h3>Kit v0.1</h3>
            <p class="text-justify">Each v0.1 kit should contain:
             <ul>
              	<li>1x PCB
					<li>1x 9V battery
					<li>1x croc clip (for SHLD)
					<li>1x jumper wire (for SHLD)
					<li>1x 1m 3.5mm male-to-male audio cable (to attach phone to PCB)
					<li>3x electrodes (for A, B, COM)
					<li>2x alcohol swabs (to clean skin, electrodes following use)
					<li>1x resealable bag (to store Ten20 conductive gel)
					<li>1x bathing cap (separately)
					<li>kitchen foil (separately; to SHLD electrodes)
				</ul> 
				Please check your kit before assembly/use. You'll need a wire stripper or knife to prepare the electrode ends and a small flat head screw driver to connect these cables ...
            </p>
            <h3>Assembly</h3>    
            <p class="text-justify">
            	<ol>
            		<li>Check if your kit is complete :)</li>
                        <li>Braid/twist the three electrodes to reduce independent interference. Leave 20cms at the electrode end to allow flexible placement.</li>
			<li>Prepare to attach the electrodes to the screw terminal
			<ul>
				<li><strong>high quality connection</strong> (recommended; see image with yellow, red, blue leads): gently strip the ends of the electrode terminals (<strong>NOT</strong> the wires, nor at the cup end), exposing the gold contacts; <strong>OR</strong></li>
				<li><strong>less antenna interference</strong>: cut the electrode wires short to mount the board (hot glue, etc.) directly to the cap</li>
			</ul>				
            		<li>Tightly wrap the braided part of the electrodes in tin foil to further reduce signal interference</li>
            		<li>Attach the croc clip to the tin foil</li>
            		<li>Attach the jumper wire to the croc clip and the SHLD terminal on the PCB</li>
            		<li>Connect the electrodes to the screw terminal:</li>
			<ul>
            		 <li> <b>A</b> 1st electrode to scalp
			 <li> <b>B</b> 2nd electrode to scalp (order unimportant)
			 <li> <b>COM</b> ground to ear lobe or mastoid (if reading from back, e.g. o1 and o2) or middle of forehead (if from front, e.g. fp1 and fp2)
			</ul>
			<li>3.5mm audio cable into the audio jack of both the PCB and the smartphone/tablet/device (n.b. the audio cable can be temperamental - 
				you can check it with a regular audio signal)</li>
			<li>Connect the battery. <strong>If your board has a blue screw terminal, the positive and negative battery 
				terminals are reversed</strong>.  Do <strong>not</strong> use the board in this configuration.
			If your board is correctly configured, the terminal labeled "+" will have flanges.  If the battery terminals are 
				reversed, attach the battery to the terminals <strong>the wrong way around</strong>, using twist ties or coated 
				wire.</li>
			<li>using the board
				<ol>
					<li><strong>do NOT use icibici while your phone is connected to the mains (i.e. charging)</strong></li>
					<li>fill the electodes' cups with conductive gel.  (Do not use the cups as scoops: they will snap.)</li>
				</ol>
			<li>cleaning up after use
				<ol>
					<li>unplug the battery</li>
					<li>clean the electrodes for re-use (the conductive gel promotes corrosion)</li> 
				</ol>
            	</ol>
            </p>

            <h3>Blue screw terminal board</h3>
            <p class="text-justify">
	      Running the current in reverse through the boards (e.g. by attaching a battery directly to the battery terminals on
		    a board with a blue screw terminal) <strong>should not harm the boards</strong>.  
		    
		    <p class="text-justify">
			    On 8 October 2017, we tested this by creating a simplified 
			    <strong><a href="https://groups.google.com/forum/#!topic/icibici/TpNdwB-PoNM">artificial brain</a></strong> by attaching 
			    an external signal generator to a positive and negative terminal separated by a saline solution in which 
		    the icibici electrodes were immersed: a functioning board should be able to read the signal crossing the saline 
		    solution.  We first ran current backwards through the boards.  We then re-inserted the battery the right way around 
		    and immersed the electrodes in the saline solution: they continued to correctly read the test signal.  
			    
			    <p class="text-justify">
			    In both early 
		    cases, the boards did not initially read the signals correctly.  After we successfully read the signals on later 
		    boards that we had run in reverse, we re-tested the initial boards, and found that they did read the signals 
		    correctly.  We have not sought to identify why our two initial tests were unsuccessful.
				    
	
	    <h3>Is my board working?</h3>

	    <p class="text-justify">As neural signals are very faint, it is common to be unsure whether the board is working properly.
		    This section describes some simple 'sanity' checks.
		    
		    <ol>
			    <li>Attaching the board to the simplified <a href="https://groups.google.com/forum/#!topic/icibici/TpNdwB-PoNM">artificial brain</a>
			    and signal generator, as described above, is the cleanest test we have found so far of a board's ability to
				    receive signals.</li>
			    <li>First test for stronger signals.  One of the 
				    easiest ways to do this is to connect the icibici to a computer and analyse the incoming signal 
				    using something like <a href="https://www.audacityteam.org/download/">Audacity</a> or Matlab 
				    (see the code <a href="http://robertoostenveld.nl/first-steps-with-a-e20-single-channel-eeg-system/">here</a>):
				<ol>
					<li>electrocardiogram (ECG): attach the A and B electrodes to your chest, the COM electrode to an arm or leg, and see whether the signal looks like a heart beat;</li>
					<li>electromyogram (EMG): <a href="http://seniam.org/sensor_location.htm">this site</a> shows various locations for electrode placement.  We have placed the A and B electrodes on the jaw (the COM on the neck) to pick up gnashing of teeth.</li>
				</ol>
			</ol>
            </p>
			
            <h3>Hardware source files</h3>

            <p class="text-justify">Gerber, Eagle, diptrace, .asc files and BOM are <a href="https://drive.google.com/open?id=0B_pm63qgPzbdM3N0bENWeWZsTGs">here</a>.
		    We've not put an open-source licence on this yet, but please treat it as such.</p>

            <h3>Known issues</h3>    
            <p class="text-justify">
            	<ol>
            		<li>Xiao Mi Redmi Note: basic Android APK can either generate tone, or receive signal from board, but not both at once.</li>
                </ol>

            <h3>To do</h3>
            <p class="text-justify">
            	<ol>
		  <li>see the Github Issues tracker <a href="https://github.com/icibici/site/issues">here</a></li>
                </ol>

  </div>
  <div class="col-md-6">
    <figure>
	  <img src="images/hardware_v01.jpg" alt="Version 0.1" class="img-responsive align-right" />
	  <figcaption>2016 board: orange screw terminal mounted on opposite side to battery</figcaption>
    </figure>
    <figure>
	    <img src="images/better-quality-connection.jpg" alt="Version 0.1" class="img-responsive align-right" />
	    <figcaption>Be very gentle: if you're too strong, you'll snip off the contacts</figcaption>
    </figure>
    <figure>
	    <img src="images/terminal-connection-2.jpg" alt="Version 0.1" class="img-responsive align-right" />
	    <figcaption>Connecting the screw terminal: SHLD to the croc clip; COM (red), A (yellow) and B (blue) to electrodes</figcaption>
    </figure>
    <figure>
	    <img src="images/blue-screw-polarity-reversed.jpg" alt="Version 0.1, blue screw terminal" class="img-responsive align-right" />
	    <figcaption>Using wire to attach the battery on a blue screw terminal board </figcaption>
    </figure>
  </div>
</div>
        <header class=" hero-spacer"> 
            <h2>The Software</h2><a name="the_software"></a>
        </header> 
            <br>

<h3><a href="https://github.com/icibici/Android-diagnostic-app">Android diagnostic APK</a></h3>            
            <p class="text-justify">The basic Android diagnostic app is available for <a href="https://github.com/capitancambio/smartphone-bci/releases">download here</a>. 
				
				<h4>Sanity Check</h4>
         	<p class="text-justify">
         		After assembling the hardware, install the APK and connect the kit to do a <strong>sanity check</strong>:
            	<ul>
            	 <li>Install the app on the phone</li>
            	 <li>Connect the battery to the circuit</li>
            	 <ul>
            	 	<li>Ensure that the phone is NOT connected to the mains</li>
            	</ul> 
            	 <li>Connect the jack from the circuit to the phone</li>
            	 <li>Open the app</li>
            	 <li>Press "Play"</li>
					<ul>
            	 <li>if the app crashes pressing play (e.g. in Android 6), you need to grant permission the the app to access the microphone in settings/apps/smartphone-bci</li>
            	</ul>
            	 <li>Slide until you get to a graph called 'sanity check'</li>
            	 <li>Do not hold the circuit with your hands, as your body acts as ground</li>
            	 <li>You should see two peaks in the graph; one around 0-1 Hz (carrier signal), one around 50Hz (mains)</li>
            	</ul>  
         	</p>    
<hr>

				<h4>Experiments</h4>
         	<p class="text-justify">
                Placing the electrodes using the <a href="https://en.wikipedia.org/wiki/10-20_system_%28EEG%29">10-20 system</a>:
         	  <ul> 
         	  	<li>Use alcohol to swab the area where the electrodes will be placed.
         	  	<li>Fill the electrode cup with conductive gel before placement and clean them after the experiments to prevent corrosion</li>
         	  	<li>If measuring from o1 and o2, place COM electrode on ear (best: avoids muscular signals) or side of neck</li>
         	  	<li>If measuring from fp1 and fp2, COM can be placed on the center of the forehead</li>
         	 </ul> 
					<br />Experiments with the completed kit:
<ul>
<li> the Android app's "sanity check" to detect the 1kHz carrier signal and 50Hz mains
<li> the first plot titled "Spectrum" might show changes when winks, blinks, jaw movements are performed
<li> <a href="https://en.wikipedia.org/wiki/Alpha_wave">alpha waves</a> (7.5 - 12.5 Hz) from o1 and o2 or (to a lesser extent) fp1 and fp2 when user's eyes are closed
<ul>
	<li>Swipe to the next graph: it displays the power of your alpha band over time. <br>This value corresponds to a moving average, so it may take some time to settle.</li>
<li> <a href="https://en.wikipedia.org/wiki/Mu_wave">mu waves</a> (7.5-12.5 Hz, esp. 9-11Hz) from c3, c4 or even cz when user is completely immobile
</ul>
<p> In the near future !</p>
<li> SSVEP: peaks at the frequency of an observed flashing stimulus from o1 and o2
<li>Experiment with placing the PCB on a table, holding it in your hand, etc. Where do you get the better signal?</li>         	
</ul>         	
</p>    

            <br>
<h3><a href="https://github.com/ryanlintott/SSVEP_keyboard">Unity text entry</a></h3>            
<p class="text-justify">v0.16 (Aug 2019)  
	<ol>
		<li>The larger the screen on your device, the better this works.</li>  
		<li>Check out the github page for a complete description and Android download.</li> 
		<li>To use the iOS version (available on Testflight) send an e-mail to Ryan Lintott at 
			hello[at]abetterwaytodo[dot]com with an e-mail address, a first and last name.</li>
		<li>The app can also be run in the Unity emulator.</li> 
		<li>A simple test: select 'SSVEP Keyboard'/'Key Toggle' and manually cover either 'yes' or 'no' so that the user can only see one flickering target.  Does the app reliably identify it?</li>
        </ol>
</p>

<header class=" hero-spacer"> 
            <h2>etc.</h2><a name="etc"></a>
        </header> 
            <br>
            <p class="text-justify">
            <ol>
		    <li>5 Nov 2017: read <a href=http://robertoostenveld.nl/first-steps-with-a-e20-single-channel-eeg-system/>Robert Oostenveld's review</a> of icibici</li>
            </ol>
            </p>

<header class=" hero-spacer"> 
            <h2>The team</h2><a name="the_team"></a>
        </header> 
            <br>
            <p class="text-justify">
            The team is composed by an amazing and heavily heterogeneous group of people that have voluntarily contributed in many different ways. This project would not have been possible without input and help from all the fellow travellers on this journey so far. In no particular order, many thanks to:</p>
            <ul>
                    <li>Graeme Hattan</li>
                    <li>Jon Scott</li>
                    <li>Nick Johnson</li>
                    <li>Colin Rowat</li>
                    <li>Tommy Drews</li>
                    <li>Felix Drews</li>
                    <li>Ryan Lintott</li>
                    <li>Javier Asensio Cubero</li>
                    <li>Jesus Manzanares Artolazabal</li>
                    <li>Andrew Vladimirov</li>
                    <li>Seb Wills</li>
                    <li>Bob Kemp</li>
                    <li>John Mitchell</li>
                    <li>Marco Datola</li>
                    <li>Bethel Osuagwu</li>
                    <li>Frank Johnson</li>
                    <li>Martin U.</li>
		    <li>Richard Graham</li>
            </ul>

            <p class="text-justify">
            We've received more support anyone could hope for from <a href="http://neurotechx.com">NeuroTechX</a> and their <a href="https://neurotechx.herokuapp.com">slack</a> as well as the <a href="https://london.hackspace.org.uk/">London Hackspace</a>  
            </p>

            <p class="text-justify">
            This is a living project and we're still looking for people to contribute in whatever way they want to, please join the <a href="https://groups.google.com/forum/#!forum/icibici"/>icibici</a> Google Group.
            </p>
        <hr>
        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12 text-right">
                    <p>icibici</p>
                </div>
            </div>
        </footer>

    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

</body>

</html>
